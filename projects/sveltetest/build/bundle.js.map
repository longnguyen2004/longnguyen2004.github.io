{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/animejs/lib/anime.es.js","../../node_modules/apng-js/lib/index.js","../../src/Stage/Stage.svelte","../../src/App.svelte","../../src/main.ts"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration();\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor() {\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes) {\n        super();\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = append_empty_stylesheet(node).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.44.1' }, detail), true));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","/*\n * anime.js v3.2.1\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  nil: function (a) { return is.und(a) || a === null; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; },\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright © 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n    eases['easeOutIn' + name] = function (a, b) { return function (t) { return t < 0.5 ? (1 - easeIn(a, b)(1 - t * 2)) / 2 : \n      (easeIn(a, b)(t * 2 - 1) + 1) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (!is.nil(getAttribute(el, prop)) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width,\n    h: height,\n    vW: viewBox[2],\n    vH: viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress, isPathTargetInsideSVG) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  var scaleX = isPathTargetInsideSVG ? 1 : svg.w / svg.vW;\n  var scaleY = isPathTargetInsideSVG ? 1 : svg.h / svg.vH;\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * scaleX;\n    case 'y': return (p.y - svg.y) * scaleY;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isPathTargetInsideSVG = tween.isPath && is.svg(animatable.target);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\n\nvar engine = (function () {\n  var raf;\n\n  function play() {\n    if (!raf && (!isDocumentHidden() || !anime.suspendWhenDocumentHidden) && activeInstances.length > 0) {\n      raf = requestAnimationFrame(step);\n    }\n  }\n  function step(t) {\n    // memo on algorithm issue:\n    // dangerous iteration over mutable `activeInstances`\n    // (that collection may be updated from within callbacks of `tick`-ed animation instances)\n    var activeInstancesLength = activeInstances.length;\n    var i = 0;\n    while (i < activeInstancesLength) {\n      var activeInstance = activeInstances[i];\n      if (!activeInstance.paused) {\n        activeInstance.tick(t);\n        i++;\n      } else {\n        activeInstances.splice(i, 1);\n        activeInstancesLength--;\n      }\n    }\n    raf = i > 0 ? requestAnimationFrame(step) : undefined;\n  }\n\n  function handleVisibilityChange() {\n    if (!anime.suspendWhenDocumentHidden) { return; }\n\n    if (isDocumentHidden()) {\n      // suspend ticks\n      raf = cancelAnimationFrame(raf);\n    } else { // is back to active tab\n      // first adjust animations to consider the time that ticks were suspended\n      activeInstances.forEach(\n        function (instance) { return instance ._onDocumentVisibility(); }\n      );\n      engine();\n    }\n  }\n  if (typeof document !== 'undefined') {\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n  }\n\n  return play;\n})();\n\nfunction isDocumentHidden() {\n  return !!document && document.hidden;\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber, tween.isPathTargetInsideSVG);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // internal method (for engine) to adjust animation timings before restoring engine ticks (rAF)\n  instance._onDocumentVisibility = resetTime;\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    engine();\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.remove = function(targets) {\n    var targetsArray = parseTargets(targets);\n    removeTargetsFromInstance(targetsArray, instance);\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargetsFromInstance(targetsArray, instance) {\n  var animations = instance.animations;\n  var children = instance.children;\n  removeTargetsFromAnimations(targetsArray, animations);\n  for (var c = children.length; c--;) {\n    var child = children[c];\n    var childAnimations = child.animations;\n    removeTargetsFromAnimations(targetsArray, childAnimations);\n    if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n  }\n  if (!animations.length && !children.length) { instance.pause(); }\n}\n\nfunction removeTargetsFromActiveInstances(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    removeTargetsFromInstance(targetsArray, instance);\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.1';\nanime.speed = 1;\n// TODO:#review: naming, documentation\nanime.suspendWhenDocumentHidden = true;\nanime.running = activeInstances;\nanime.remove = removeTargetsFromActiveInstances;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"apng-js\"] = factory();\n\telse\n\t\troot[\"apng-js\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.isNotPNG = isNotPNG;\n\texports.isNotAPNG = isNotAPNG;\n\texports.default = parseAPNG;\n\n\tvar _crc = __webpack_require__(1);\n\n\tvar _crc2 = _interopRequireDefault(_crc);\n\n\tvar _structs = __webpack_require__(2);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tvar errNotPNG = new Error('Not a PNG');\n\tvar errNotAPNG = new Error('Not an animated PNG');\n\n\tfunction isNotPNG(err) {\n\t    return err === errNotPNG;\n\t}\n\tfunction isNotAPNG(err) {\n\t    return err === errNotAPNG;\n\t}\n\n\t// '\\x89PNG\\x0d\\x0a\\x1a\\x0a'\n\tvar PNGSignature = new Uint8Array([0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]);\n\n\t/**\r\n\t * Parse APNG data\r\n\t * @param {ArrayBuffer} buffer\r\n\t * @return {APNG|Error}\r\n\t */\n\tfunction parseAPNG(buffer) {\n\t    var bytes = new Uint8Array(buffer);\n\n\t    if (Array.prototype.some.call(PNGSignature, function (b, i) {\n\t        return b !== bytes[i];\n\t    })) {\n\t        return errNotPNG;\n\t    }\n\n\t    // fast animation test\n\t    var isAnimated = false;\n\t    eachChunk(bytes, function (type) {\n\t        return !(isAnimated = type === 'acTL');\n\t    });\n\t    if (!isAnimated) {\n\t        return errNotAPNG;\n\t    }\n\n\t    var preDataParts = [],\n\t        postDataParts = [];\n\t    var headerDataBytes = null,\n\t        frame = null,\n\t        frameNumber = 0,\n\t        apng = new _structs.APNG();\n\n\t    eachChunk(bytes, function (type, bytes, off, length) {\n\t        var dv = new DataView(bytes.buffer);\n\t        switch (type) {\n\t            case 'IHDR':\n\t                headerDataBytes = bytes.subarray(off + 8, off + 8 + length);\n\t                apng.width = dv.getUint32(off + 8);\n\t                apng.height = dv.getUint32(off + 12);\n\t                break;\n\t            case 'acTL':\n\t                apng.numPlays = dv.getUint32(off + 8 + 4);\n\t                break;\n\t            case 'fcTL':\n\t                if (frame) {\n\t                    apng.frames.push(frame);\n\t                    frameNumber++;\n\t                }\n\t                frame = new _structs.Frame();\n\t                frame.width = dv.getUint32(off + 8 + 4);\n\t                frame.height = dv.getUint32(off + 8 + 8);\n\t                frame.left = dv.getUint32(off + 8 + 12);\n\t                frame.top = dv.getUint32(off + 8 + 16);\n\t                var delayN = dv.getUint16(off + 8 + 20);\n\t                var delayD = dv.getUint16(off + 8 + 22);\n\t                if (delayD === 0) {\n\t                    delayD = 100;\n\t                }\n\t                frame.delay = 1000 * delayN / delayD;\n\t                // https://bugzilla.mozilla.org/show_bug.cgi?id=125137\n\t                // https://bugzilla.mozilla.org/show_bug.cgi?id=139677\n\t                // https://bugzilla.mozilla.org/show_bug.cgi?id=207059\n\t                if (frame.delay <= 10) {\n\t                    frame.delay = 100;\n\t                }\n\t                apng.playTime += frame.delay;\n\t                frame.disposeOp = dv.getUint8(off + 8 + 24);\n\t                frame.blendOp = dv.getUint8(off + 8 + 25);\n\t                frame.dataParts = [];\n\t                if (frameNumber === 0 && frame.disposeOp === 2) {\n\t                    frame.disposeOp = 1;\n\t                }\n\t                break;\n\t            case 'fdAT':\n\t                if (frame) {\n\t                    frame.dataParts.push(bytes.subarray(off + 8 + 4, off + 8 + length));\n\t                }\n\t                break;\n\t            case 'IDAT':\n\t                if (frame) {\n\t                    frame.dataParts.push(bytes.subarray(off + 8, off + 8 + length));\n\t                }\n\t                break;\n\t            case 'IEND':\n\t                postDataParts.push(subBuffer(bytes, off, 12 + length));\n\t                break;\n\t            default:\n\t                preDataParts.push(subBuffer(bytes, off, 12 + length));\n\t        }\n\t    });\n\n\t    if (frame) {\n\t        apng.frames.push(frame);\n\t    }\n\n\t    if (apng.frames.length == 0) {\n\t        return errNotAPNG;\n\t    }\n\n\t    var preBlob = new Blob(preDataParts),\n\t        postBlob = new Blob(postDataParts);\n\n\t    apng.frames.forEach(function (frame) {\n\t        var bb = [];\n\t        bb.push(PNGSignature);\n\t        headerDataBytes.set(makeDWordArray(frame.width), 0);\n\t        headerDataBytes.set(makeDWordArray(frame.height), 4);\n\t        bb.push(makeChunkBytes('IHDR', headerDataBytes));\n\t        bb.push(preBlob);\n\t        frame.dataParts.forEach(function (p) {\n\t            return bb.push(makeChunkBytes('IDAT', p));\n\t        });\n\t        bb.push(postBlob);\n\t        frame.imageData = new Blob(bb, { 'type': 'image/png' });\n\t        delete frame.dataParts;\n\t        bb = null;\n\t    });\n\n\t    return apng;\n\t}\n\n\t/**\r\n\t * @param {Uint8Array} bytes\r\n\t * @param {function(string, Uint8Array, int, int): boolean} callback\r\n\t */\n\tfunction eachChunk(bytes, callback) {\n\t    var dv = new DataView(bytes.buffer);\n\t    var off = 8,\n\t        type = void 0,\n\t        length = void 0,\n\t        res = void 0;\n\t    do {\n\t        length = dv.getUint32(off);\n\t        type = readString(bytes, off + 4, 4);\n\t        res = callback(type, bytes, off, length);\n\t        off += 12 + length;\n\t    } while (res !== false && type != 'IEND' && off < bytes.length);\n\t}\n\n\t/**\r\n\t *\r\n\t * @param {Uint8Array} bytes\r\n\t * @param {number} off\r\n\t * @param {number} length\r\n\t * @return {string}\r\n\t */\n\tfunction readString(bytes, off, length) {\n\t    var chars = Array.prototype.slice.call(bytes.subarray(off, off + length));\n\t    return String.fromCharCode.apply(String, chars);\n\t}\n\n\t/**\r\n\t *\r\n\t * @param {string} x\r\n\t * @return {Uint8Array}\r\n\t */\n\tfunction makeStringArray(x) {\n\t    var res = new Uint8Array(x.length);\n\t    for (var i = 0; i < x.length; i++) {\n\t        res[i] = x.charCodeAt(i);\n\t    }\n\t    return res;\n\t}\n\n\t/**\r\n\t * @param {Uint8Array} bytes\r\n\t * @param {int} start\r\n\t * @param {int} length\r\n\t * @return {Uint8Array}\r\n\t */\n\tfunction subBuffer(bytes, start, length) {\n\t    var a = new Uint8Array(length);\n\t    a.set(bytes.subarray(start, start + length));\n\t    return a;\n\t}\n\n\t/**\r\n\t * @param {string} type\r\n\t * @param {Uint8Array} dataBytes\r\n\t * @return {Uint8Array}\r\n\t */\n\tvar makeChunkBytes = function makeChunkBytes(type, dataBytes) {\n\t    var crcLen = type.length + dataBytes.length;\n\t    var bytes = new Uint8Array(crcLen + 8);\n\t    var dv = new DataView(bytes.buffer);\n\n\t    dv.setUint32(0, dataBytes.length);\n\t    bytes.set(makeStringArray(type), 4);\n\t    bytes.set(dataBytes, 8);\n\t    var crc = (0, _crc2.default)(bytes, 4, crcLen);\n\t    dv.setUint32(crcLen + 4, crc);\n\t    return bytes;\n\t};\n\n\tvar makeDWordArray = function makeDWordArray(x) {\n\t    return new Uint8Array([x >>> 24 & 0xff, x >>> 16 & 0xff, x >>> 8 & 0xff, x & 0xff]);\n\t};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\texports.default = function (bytes) {\n\t  var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\t  var length = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : bytes.length - start;\n\n\t  var crc = -1;\n\t  for (var _i = start, l = start + length; _i < l; _i++) {\n\t    crc = crc >>> 8 ^ table[(crc ^ bytes[_i]) & 0xFF];\n\t  }\n\t  return crc ^ -1;\n\t};\n\n\tvar table = new Uint32Array(256);\n\n\tfor (var i = 0; i < 256; i++) {\n\t  var c = i;\n\t  for (var k = 0; k < 8; k++) {\n\t    c = (c & 1) !== 0 ? 0xEDB88320 ^ c >>> 1 : c >>> 1;\n\t  }\n\t  table[i] = c;\n\t}\n\n\t/**\r\n\t *\r\n\t * @param {Uint8Array} bytes\r\n\t * @param {number} start\r\n\t * @param {number} length\r\n\t * @return {number}\r\n\t */\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Frame = exports.APNG = undefined;\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tvar _player = __webpack_require__(3);\n\n\tvar _player2 = _interopRequireDefault(_player);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\t/**\r\n\t * @property {number} currFrameNumber\r\n\t * @property {Frame} currFrame\r\n\t * @property {boolean} paused\r\n\t * @property {boolean} ended\r\n\t */\n\tvar APNG = exports.APNG = function () {\n\t    function APNG() {\n\t        _classCallCheck(this, APNG);\n\n\t        this.width = 0;\n\t        this.height = 0;\n\t        this.numPlays = 0;\n\t        this.playTime = 0;\n\t        this.frames = [];\n\t    }\n\t    /** @type {number} */\n\n\t    /** @type {number} */\n\n\t    /** @type {number} */\n\n\t    /** @type {number} */\n\n\t    /** @type {Frame[]} */\n\n\n\t    _createClass(APNG, [{\n\t        key: 'createImages',\n\n\n\t        /**\r\n\t         *\r\n\t         * @return {Promise.<*>}\r\n\t         */\n\t        value: function createImages() {\n\t            return Promise.all(this.frames.map(function (f) {\n\t                return f.createImage();\n\t            }));\n\t        }\n\n\t        /**\r\n\t         *\r\n\t         * @param {CanvasRenderingContext2D} context\r\n\t         * @param {boolean} autoPlay\r\n\t         * @return {Promise.<Player>}\r\n\t         */\n\n\t    }, {\n\t        key: 'getPlayer',\n\t        value: function getPlayer(context) {\n\t            var _this = this;\n\n\t            var autoPlay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n\t            return this.createImages().then(function () {\n\t                return new _player2.default(_this, context, autoPlay);\n\t            });\n\t        }\n\t    }]);\n\n\t    return APNG;\n\t}();\n\n\tvar Frame = exports.Frame = function () {\n\t    function Frame() {\n\t        _classCallCheck(this, Frame);\n\n\t        this.left = 0;\n\t        this.top = 0;\n\t        this.width = 0;\n\t        this.height = 0;\n\t        this.delay = 0;\n\t        this.disposeOp = 0;\n\t        this.blendOp = 0;\n\t        this.imageData = null;\n\t        this.imageElement = null;\n\t    }\n\t    /** @type {number} */\n\n\t    /** @type {number} */\n\n\t    /** @type {number} */\n\n\t    /** @type {number} */\n\n\t    /** @type {number} */\n\n\t    /** @type {number} */\n\n\t    /** @type {number} */\n\n\t    /** @type {Blob} */\n\n\t    /** @type {HTMLImageElement} */\n\n\n\t    _createClass(Frame, [{\n\t        key: 'createImage',\n\t        value: function createImage() {\n\t            var _this2 = this;\n\n\t            if (this.imageElement) {\n\t                return Promise.resolve();\n\t            }\n\t            return new Promise(function (resolve, reject) {\n\t                var url = URL.createObjectURL(_this2.imageData);\n\t                _this2.imageElement = document.createElement('img');\n\t                _this2.imageElement.onload = function () {\n\t                    URL.revokeObjectURL(url);\n\t                    resolve();\n\t                };\n\t                _this2.imageElement.onerror = function () {\n\t                    URL.revokeObjectURL(url);\n\t                    _this2.imageElement = null;\n\t                    reject(new Error(\"Image creation error\"));\n\t                };\n\t                _this2.imageElement.src = url;\n\t            });\n\t        }\n\t    }]);\n\n\t    return Frame;\n\t}();\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tvar _events = __webpack_require__(4);\n\n\tvar _events2 = _interopRequireDefault(_events);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\tvar _class = function (_EventEmitter) {\n\t    _inherits(_class, _EventEmitter);\n\n\t    /**\r\n\t     * @param {APNG} apng\r\n\t     * @param {CanvasRenderingContext2D} context\r\n\t     * @param {boolean} autoPlay\r\n\t     */\n\n\t    /** @type {boolean} */\n\n\t    /** @type {number} */\n\n\t    /** @type {Frame} */\n\n\t    /** @type {number} */\n\t    function _class(apng, context, autoPlay) {\n\t        _classCallCheck(this, _class);\n\n\t        var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this));\n\n\t        _this.playbackRate = 1.0;\n\t        _this._currentFrameNumber = 0;\n\t        _this._ended = false;\n\t        _this._paused = true;\n\t        _this._numPlays = 0;\n\n\t        _this._apng = apng;\n\t        _this.context = context;\n\t        _this.stop();\n\t        if (autoPlay) {\n\t            _this.play();\n\t        }\n\t        return _this;\n\t    }\n\n\t    /**\r\n\t     *\r\n\t     * @return {number}\r\n\t     */\n\n\t    /** @type {number} */\n\n\n\t    /** @type {boolean} */\n\n\t    /** @type {ImageData} */\n\n\n\t    /** @type {APNG} */\n\n\t    /** @type {CanvasRenderingContext2D} */\n\n\n\t    _createClass(_class, [{\n\t        key: 'renderNextFrame',\n\t        value: function renderNextFrame() {\n\t            this._currentFrameNumber = (this._currentFrameNumber + 1) % this._apng.frames.length;\n\t            if (this._currentFrameNumber === this._apng.frames.length - 1) {\n\t                this._numPlays++;\n\t                if (this._apng.numPlays !== 0 && this._numPlays >= this._apng.numPlays) {\n\t                    this._ended = true;\n\t                    this._paused = true;\n\t                }\n\t            }\n\n\t            if (this._prevFrame && this._prevFrame.disposeOp == 1) {\n\t                this.context.clearRect(this._prevFrame.left, this._prevFrame.top, this._prevFrame.width, this._prevFrame.height);\n\t            } else if (this._prevFrame && this._prevFrame.disposeOp == 2) {\n\t                this.context.putImageData(this._prevFrameData, this._prevFrame.left, this._prevFrame.top);\n\t            }\n\n\t            var frame = this.currentFrame;\n\t            this._prevFrame = frame;\n\t            this._prevFrameData = null;\n\t            if (frame.disposeOp == 2) {\n\t                this._prevFrameData = this.context.getImageData(frame.left, frame.top, frame.width, frame.height);\n\t            }\n\t            if (frame.blendOp == 0) {\n\t                this.context.clearRect(frame.left, frame.top, frame.width, frame.height);\n\t            }\n\n\t            this.context.drawImage(frame.imageElement, frame.left, frame.top);\n\n\t            this.emit('frame', this._currentFrameNumber);\n\t            if (this._ended) {\n\t                this.emit('end');\n\t            }\n\t        }\n\n\t        // playback\n\n\t    }, {\n\t        key: 'play',\n\t        value: function play() {\n\t            var _this2 = this;\n\n\t            this.emit('play');\n\n\t            if (this._ended) {\n\t                this.stop();\n\t            }\n\t            this._paused = false;\n\n\t            var nextRenderTime = performance.now() + this.currentFrame.delay / this.playbackRate;\n\t            var tick = function tick(now) {\n\t                if (_this2._ended || _this2._paused) {\n\t                    return;\n\t                }\n\t                if (now >= nextRenderTime) {\n\t                    while (now - nextRenderTime >= _this2._apng.playTime / _this2.playbackRate) {\n\t                        nextRenderTime += _this2._apng.playTime / _this2.playbackRate;\n\t                        _this2._numPlays++;\n\t                    }\n\t                    do {\n\t                        _this2.renderNextFrame();\n\t                        nextRenderTime += _this2.currentFrame.delay / _this2.playbackRate;\n\t                    } while (!_this2._ended && now > nextRenderTime);\n\t                }\n\t                requestAnimationFrame(tick);\n\t            };\n\t            requestAnimationFrame(tick);\n\t        }\n\t    }, {\n\t        key: 'pause',\n\t        value: function pause() {\n\t            if (!this._paused) {\n\t                this.emit('pause');\n\t                this._paused = true;\n\t            }\n\t        }\n\t    }, {\n\t        key: 'stop',\n\t        value: function stop() {\n\t            this.emit('stop');\n\t            this._numPlays = 0;\n\t            this._ended = false;\n\t            this._paused = true;\n\t            // render first frame\n\t            this._currentFrameNumber = -1;\n\t            this.context.clearRect(0, 0, this._apng.width, this._apng.height);\n\t            this.renderNextFrame();\n\t        }\n\t    }, {\n\t        key: 'currentFrameNumber',\n\t        get: function get() {\n\t            return this._currentFrameNumber;\n\t        }\n\n\t        /**\r\n\t         *\r\n\t         * @return {Frame}\r\n\t         */\n\n\t    }, {\n\t        key: 'currentFrame',\n\t        get: function get() {\n\t            return this._apng.frames[this._currentFrameNumber];\n\t        }\n\t    }, {\n\t        key: 'paused',\n\t        get: function get() {\n\t            return this._paused;\n\t        }\n\t    }, {\n\t        key: 'ended',\n\t        get: function get() {\n\t            return this._ended;\n\t        }\n\t    }]);\n\n\t    return _class;\n\t}(_events2.default);\n\n\texports.default = _class;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\tfunction EventEmitter() {\n\t  this._events = this._events || {};\n\t  this._maxListeners = this._maxListeners || undefined;\n\t}\n\tmodule.exports = EventEmitter;\n\n\t// Backwards-compat with node 0.10.x\n\tEventEmitter.EventEmitter = EventEmitter;\n\n\tEventEmitter.prototype._events = undefined;\n\tEventEmitter.prototype._maxListeners = undefined;\n\n\t// By default EventEmitters will print a warning if more than 10 listeners are\n\t// added to it. This is a useful default which helps finding memory leaks.\n\tEventEmitter.defaultMaxListeners = 10;\n\n\t// Obviously not all Emitters should be limited to 10. This function allows\n\t// that to be increased. Set to zero for unlimited.\n\tEventEmitter.prototype.setMaxListeners = function(n) {\n\t  if (!isNumber(n) || n < 0 || isNaN(n))\n\t    throw TypeError('n must be a positive number');\n\t  this._maxListeners = n;\n\t  return this;\n\t};\n\n\tEventEmitter.prototype.emit = function(type) {\n\t  var er, handler, len, args, i, listeners;\n\n\t  if (!this._events)\n\t    this._events = {};\n\n\t  // If there is no 'error' event listener then throw.\n\t  if (type === 'error') {\n\t    if (!this._events.error ||\n\t        (isObject(this._events.error) && !this._events.error.length)) {\n\t      er = arguments[1];\n\t      if (er instanceof Error) {\n\t        throw er; // Unhandled 'error' event\n\t      } else {\n\t        // At least give some kind of context to the user\n\t        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n\t        err.context = er;\n\t        throw err;\n\t      }\n\t    }\n\t  }\n\n\t  handler = this._events[type];\n\n\t  if (isUndefined(handler))\n\t    return false;\n\n\t  if (isFunction(handler)) {\n\t    switch (arguments.length) {\n\t      // fast cases\n\t      case 1:\n\t        handler.call(this);\n\t        break;\n\t      case 2:\n\t        handler.call(this, arguments[1]);\n\t        break;\n\t      case 3:\n\t        handler.call(this, arguments[1], arguments[2]);\n\t        break;\n\t      // slower\n\t      default:\n\t        args = Array.prototype.slice.call(arguments, 1);\n\t        handler.apply(this, args);\n\t    }\n\t  } else if (isObject(handler)) {\n\t    args = Array.prototype.slice.call(arguments, 1);\n\t    listeners = handler.slice();\n\t    len = listeners.length;\n\t    for (i = 0; i < len; i++)\n\t      listeners[i].apply(this, args);\n\t  }\n\n\t  return true;\n\t};\n\n\tEventEmitter.prototype.addListener = function(type, listener) {\n\t  var m;\n\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\n\t  if (!this._events)\n\t    this._events = {};\n\n\t  // To avoid recursion in the case that type === \"newListener\"! Before\n\t  // adding it to the listeners, first emit \"newListener\".\n\t  if (this._events.newListener)\n\t    this.emit('newListener', type,\n\t              isFunction(listener.listener) ?\n\t              listener.listener : listener);\n\n\t  if (!this._events[type])\n\t    // Optimize the case of one listener. Don't need the extra array object.\n\t    this._events[type] = listener;\n\t  else if (isObject(this._events[type]))\n\t    // If we've already got an array, just append.\n\t    this._events[type].push(listener);\n\t  else\n\t    // Adding the second element, need to change to array.\n\t    this._events[type] = [this._events[type], listener];\n\n\t  // Check for listener leak\n\t  if (isObject(this._events[type]) && !this._events[type].warned) {\n\t    if (!isUndefined(this._maxListeners)) {\n\t      m = this._maxListeners;\n\t    } else {\n\t      m = EventEmitter.defaultMaxListeners;\n\t    }\n\n\t    if (m && m > 0 && this._events[type].length > m) {\n\t      this._events[type].warned = true;\n\t      console.error('(node) warning: possible EventEmitter memory ' +\n\t                    'leak detected. %d listeners added. ' +\n\t                    'Use emitter.setMaxListeners() to increase limit.',\n\t                    this._events[type].length);\n\t      if (typeof console.trace === 'function') {\n\t        // not supported in IE 10\n\t        console.trace();\n\t      }\n\t    }\n\t  }\n\n\t  return this;\n\t};\n\n\tEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\n\tEventEmitter.prototype.once = function(type, listener) {\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\n\t  var fired = false;\n\n\t  function g() {\n\t    this.removeListener(type, g);\n\n\t    if (!fired) {\n\t      fired = true;\n\t      listener.apply(this, arguments);\n\t    }\n\t  }\n\n\t  g.listener = listener;\n\t  this.on(type, g);\n\n\t  return this;\n\t};\n\n\t// emits a 'removeListener' event iff the listener was removed\n\tEventEmitter.prototype.removeListener = function(type, listener) {\n\t  var list, position, length, i;\n\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\n\t  if (!this._events || !this._events[type])\n\t    return this;\n\n\t  list = this._events[type];\n\t  length = list.length;\n\t  position = -1;\n\n\t  if (list === listener ||\n\t      (isFunction(list.listener) && list.listener === listener)) {\n\t    delete this._events[type];\n\t    if (this._events.removeListener)\n\t      this.emit('removeListener', type, listener);\n\n\t  } else if (isObject(list)) {\n\t    for (i = length; i-- > 0;) {\n\t      if (list[i] === listener ||\n\t          (list[i].listener && list[i].listener === listener)) {\n\t        position = i;\n\t        break;\n\t      }\n\t    }\n\n\t    if (position < 0)\n\t      return this;\n\n\t    if (list.length === 1) {\n\t      list.length = 0;\n\t      delete this._events[type];\n\t    } else {\n\t      list.splice(position, 1);\n\t    }\n\n\t    if (this._events.removeListener)\n\t      this.emit('removeListener', type, listener);\n\t  }\n\n\t  return this;\n\t};\n\n\tEventEmitter.prototype.removeAllListeners = function(type) {\n\t  var key, listeners;\n\n\t  if (!this._events)\n\t    return this;\n\n\t  // not listening for removeListener, no need to emit\n\t  if (!this._events.removeListener) {\n\t    if (arguments.length === 0)\n\t      this._events = {};\n\t    else if (this._events[type])\n\t      delete this._events[type];\n\t    return this;\n\t  }\n\n\t  // emit removeListener for all listeners on all events\n\t  if (arguments.length === 0) {\n\t    for (key in this._events) {\n\t      if (key === 'removeListener') continue;\n\t      this.removeAllListeners(key);\n\t    }\n\t    this.removeAllListeners('removeListener');\n\t    this._events = {};\n\t    return this;\n\t  }\n\n\t  listeners = this._events[type];\n\n\t  if (isFunction(listeners)) {\n\t    this.removeListener(type, listeners);\n\t  } else if (listeners) {\n\t    // LIFO order\n\t    while (listeners.length)\n\t      this.removeListener(type, listeners[listeners.length - 1]);\n\t  }\n\t  delete this._events[type];\n\n\t  return this;\n\t};\n\n\tEventEmitter.prototype.listeners = function(type) {\n\t  var ret;\n\t  if (!this._events || !this._events[type])\n\t    ret = [];\n\t  else if (isFunction(this._events[type]))\n\t    ret = [this._events[type]];\n\t  else\n\t    ret = this._events[type].slice();\n\t  return ret;\n\t};\n\n\tEventEmitter.prototype.listenerCount = function(type) {\n\t  if (this._events) {\n\t    var evlistener = this._events[type];\n\n\t    if (isFunction(evlistener))\n\t      return 1;\n\t    else if (evlistener)\n\t      return evlistener.length;\n\t  }\n\t  return 0;\n\t};\n\n\tEventEmitter.listenerCount = function(emitter, type) {\n\t  return emitter.listenerCount(type);\n\t};\n\n\tfunction isFunction(arg) {\n\t  return typeof arg === 'function';\n\t}\n\n\tfunction isNumber(arg) {\n\t  return typeof arg === 'number';\n\t}\n\n\tfunction isObject(arg) {\n\t  return typeof arg === 'object' && arg !== null;\n\t}\n\n\tfunction isUndefined(arg) {\n\t  return arg === void 0;\n\t}\n\n\n/***/ })\n/******/ ])\n});\n;","<script lang=\"ts\" context=\"module\">\r\n    let finish: Function;\r\n    export const finished = new Promise((resolve, reject) => {\r\n        finish = resolve;\r\n    });\r\n</script>\r\n\r\n<script lang=\"ts\">\r\n    import anime from \"animejs\";\r\n    import { onMount } from \"svelte\";\r\n    import parseAPNG, { APNG } from \"apng-js\";\r\n    import type Player from \"apng-js/types/library/player\";\r\n\r\n    function delay(ms) {\r\n        return new Promise((resolve) => setTimeout(resolve, ms));\r\n    }\r\n\r\n    function loadSprite(\r\n        context: CanvasRenderingContext2D\r\n    ): Promise<Map<string, Player>> {\r\n        const pictures = [\"walking\", \"falling\", \"crawling\"];\r\n        const sprites = new Map<string, Player>();\r\n        return Promise.all(\r\n            pictures.map((img) =>\r\n                fetch(`./sprite/${img}.png`)\r\n                    .then((p) => p.arrayBuffer())\r\n                    .then((buffer) => parseAPNG(buffer))\r\n                    .then(async (apng) => {\r\n                        const player = await (apng as APNG).getPlayer(context);\r\n                        sprites.set(img, player);\r\n                    })\r\n            )\r\n        ).then(() => sprites);\r\n    }\r\n\r\n    let text = \"\\xa0\";\r\n    let character: HTMLElement;\r\n    let shimeji: HTMLDivElement;\r\n    let mirrored: boolean;\r\n    let player: Player;\r\n\r\n    onMount(async () => {\r\n        const context = (\r\n            shimeji.firstElementChild as HTMLCanvasElement\r\n        ).getContext(\"2d\");\r\n        const sprites = await loadSprite(context);\r\n        player = sprites.get(\"falling\");\r\n        player.stop();\r\n        let complete = new Promise<void>((resolve) => {\r\n            player.once(\"end\", resolve);\r\n        });\r\n        shimeji.removeAttribute(\"hidden\");\r\n        character.style.bottom = `${character.clientHeight}px`;\r\n\r\n        await anime({\r\n            targets: character,\r\n            translateY: ['0vh', '100vh'],\r\n            duration: 3000,\r\n            easing: \"linear\",\r\n        }).finished;\r\n        text = \"*bẹp*\";\r\n        player.play();\r\n        await complete;\r\n        text = \"\\xa0\";\r\n\r\n        player = sprites.get(\"walking\");\r\n        player.stop();\r\n        await delay(2000);\r\n        player.play();\r\n        await anime({\r\n            targets: character,\r\n            translateX: \"-=25vh\",\r\n            duration: 5000,\r\n            easing: \"linear\",\r\n        }).finished;\r\n        mirrored = true;\r\n        await anime({\r\n            targets: character,\r\n            translateX: \"+=50vh\",\r\n            duration: 5000,\r\n            easing: \"linear\",\r\n        }).finished;\r\n        player.stop();\r\n        finish();\r\n    });\r\n</script>\r\n\r\n<article id=\"stage\">\r\n    <div id=\"character\" bind:this={character}>\r\n        <span id=\"dialogue\">{text}</span>\r\n        <div\r\n            id=\"shimeji\"\r\n            class={mirrored ? \"mirrored\" : \"\"}\r\n            bind:this={shimeji}\r\n            width=\"128px\"\r\n            height=\"128px\"\r\n        >\r\n            <canvas />\r\n        </div>\r\n    </div>\r\n</article>\r\n\r\n<style>\r\n    #stage {\r\n        width: 100vw;\r\n        height: 100vh;\r\n        background-color: black;\r\n        padding: 0%;\r\n        left: 0;\r\n        top: 0;\r\n        overflow: hidden;\r\n    }\r\n    #character {\r\n        max-width: 50em;\r\n        display: flex;\r\n        position: relative;\r\n        flex-direction: column;\r\n        align-items: center;\r\n    }\r\n    #shimeji {\r\n        overflow: hidden;\r\n        width: 128px;\r\n        height: 128px;\r\n    }\r\n    #dialogue {\r\n        font-size: 25px;\r\n        color: white;\r\n        margin: 0;\r\n    }\r\n    .mirrored {\r\n        transform: scale(-1, 1);\r\n    }\r\n</style>\r\n","<script lang=\"ts\">\n\timport Stage from \"./Stage/Stage.svelte\"\n</script>\n\n<main>\n\t<Stage>\n\n\t</Stage>\n</main>\n\n<style>\n\tmain {\n\t\tpadding: 0%;\n\t}\n</style>","import App from './App.svelte';\r\nconst app = new App({\r\n    target: document.body,\r\n    props: {\r\n        name: 'world'\r\n    }\r\n});\r\nexport default app;\r\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","null_to_empty","value","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","text","data","createTextNode","attr","attribute","removeAttribute","getAttribute","setAttribute","current_component","set_current_component","component","onMount","Error","get_current_component","$$","on_mount","push","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","flushing","seen_callbacks","Set","flush","i","length","update","pop","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","transition_in","block","local","delete","mount_component","customElement","on_destroy","m","new_on_destroy","map","filter","destroy_component","detaching","d","make_dirty","then","fill","init","options","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","context","Map","callbacks","skip_bound","root","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","c","intro","SvelteComponent","$destroy","this","$on","type","index","indexOf","splice","$set","$$props","obj","$$set","keys","defaultInstanceSettings","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","loop","direction","autoplay","timelineOffset","defaultTweenSettings","duration","delay","endDelay","easing","round","validTransforms","cache","CSS","springs","minMax","val","min","max","Math","stringContains","str","applyArguments","func","args","apply","is","arr","isArray","prototype","toString","call","pth","hasOwnProperty","svg","SVGElement","inp","HTMLInputElement","dom","nodeType","fnc","und","nil","hex","test","rgb","hsl","col","key","parseEasingParameters","string","match","exec","split","parseFloat","spring","params","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","solver","t","progress","exp","cos","sin","cached","frame","elapsed","steps","ceil","eases","functionEasings","bezier","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","mX1","mY1","mX2","mY2","sampleValues","Float32Array","x","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","abs","binarySubdivide","penner","linear","Sine","PI","Circ","Back","Bounce","pow2","pow","Elastic","amplitude","period","asin","easeIn","parseEasings","ease","selectString","querySelectorAll","e","filterArray","len","thisArg","arguments","result","flattenArray","reduce","concat","toArray","o","NodeList","HTMLCollection","slice","arrayContains","some","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","colorToRgb","rgbValue","hexValue","replace","r","g","parseInt","hexToRgba","hslValue","h","s","hue2rgb","q","hslToRgba","getUnit","getFunctionValue","animatable","id","total","el","prop","convertPxToUnit","unit","tempEl","tagName","parentEl","body","style","position","width","factor","offsetWidth","convertedUnit","getCSSValue","uppercasePropName","toLowerCase","getComputedStyle","getPropertyValue","getAnimationType","getElementTransforms","transform","reg","transforms","set","getTransformValue","propName","defaultVal","getTransformUnit","get","list","getOriginalTargetValue","getRelativeValue","to","operator","u","y","validateValue","originalUnit","unitLess","substr","getDistance","p1","p2","getPolylineLength","previousPos","points","totalLength","numberOfItems","currentPos","getItem","getTotalLength","getCircleLength","getRectLength","getLineLength","getPolygonLength","getParentSvg","pathEl","svgData","parentSvgEl","getParentSvgEl","rect","getBoundingClientRect","viewBoxAttr","height","viewBox","w","vW","vH","getPathProgress","path","isPathTargetInsideSVG","point","offset","getPointAtLength","p0","scaleX","scaleY","property","atan2","decomposeValue","rgx","original","numbers","Number","strings","parseTargets","targets","item","pos","self","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","propArray","v","k","getProperties","properties","keyframes","propertyNames","newKey","flattenKeyframes","tweens","normalizeTweens","previousTween","tween","normalizeTweenValues","tweenValue","toUnit","originalValue","previousValue","fromUnit","start","end","isPath","isColor","setProgressValue","css","object","manual","last","setTargetsValue","valueUnit","animType","getAnimations","animatables","lastTween","createAnimation","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","activeInstances","engine","raf","step","activeInstancesLength","activeInstance","paused","tick","requestAnimationFrame","undefined","addEventListener","anime","suspendWhenDocumentHidden","isDocumentHidden","cancelAnimationFrame","_onDocumentVisibility","hidden","startTime","lastTime","now","childrenLength","makePromise","promise","window","_resolve","finished","instanceSettings","createNewInstance","toggleInstanceDirection","reversed","child","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","isNaN","toNumbersLength","n","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","reversePlayback","i$1","syncInstanceChildren","began","loopBegan","changeBegan","changeCompleted","remaining","completed","reset","pause","play","reverse","restart","remove","removeTargetsFromInstance","removeTargetsFromAnimations","targetsArray","childAnimations","version","running","convertPx","percent","setDashoffset","pathLength","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","values","maxValue","fromX","fromY","floor","distanceX","distanceY","timeline","tl","instanceParams","tlIndex","ins","insParams","tlDuration","random","factory","modules","installedModules","__webpack_require__","moduleId","exports","module","loaded","defineProperty","isNotPNG","err","errNotPNG","isNotAPNG","errNotAPNG","default","buffer","bytes","Uint8Array","PNGSignature","isAnimated","eachChunk","preDataParts","postDataParts","headerDataBytes","frameNumber","apng","_structs","APNG","off","dv","DataView","subarray","getUint32","numPlays","frames","Frame","left","top","delayN","getUint16","delayD","playTime","disposeOp","getUint8","blendOp","dataParts","subBuffer","preBlob","Blob","postBlob","bb","makeDWordArray","makeChunkBytes","imageData","_crc","_crc2","__esModule","res","readString","chars","String","fromCharCode","dataBytes","crcLen","setUint32","charCodeAt","makeStringArray","crc","_i","table","Uint32Array","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_player","_player2","_classCallCheck","TypeError","all","f","createImage","_this","autoPlay","createImages","imageElement","_this2","reject","url","URL","createObjectURL","onload","revokeObjectURL","onerror","src","_events","_class","_EventEmitter","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","playbackRate","_currentFrameNumber","_ended","_paused","_numPlays","_apng","stop","subClass","superClass","constructor","setPrototypeOf","_inherits","_prevFrame","clearRect","putImageData","_prevFrameData","currentFrame","getImageData","drawImage","emit","nextRenderTime","performance","renderNextFrame","EventEmitter","_maxListeners","isFunction","arg","isObject","isUndefined","defaultMaxListeners","setMaxListeners","er","handler","listeners","error","addListener","listener","newListener","warned","console","trace","on","once","fired","removeListener","removeAllListeners","listenerCount","evlistener","emitter","wholeText","finish","character","shimeji","mirrored","player","firstElementChild","getContext","sprites","img","fetch","arrayBuffer","parseAPNG","getPlayer","loadSprite","ms","bottom","clientHeight","translateY","setTimeout","translateX","outros"],"mappings":"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"}